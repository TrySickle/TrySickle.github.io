<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Project</title>
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-16x16.png">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="assets/css/Navigation-with-Button.css">
    <link rel="stylesheet" href="assets/css/index_styles.css">
    <script type="text/javascript" src="assets/js/paper.js"></script>
    <script type="text/paperscript" canvas="myCanvas">
        // Path Arrays
        var nodes = []; // the Path.Rectangles made from the corners and offset to be centered
        var lines = []; // the Path.Lines
        var descriptions = []; // the popup full descriptions
        var descMeta = []; // the metadata within each description
        var descTexts = []; // the texts within each description
        var descImages = []; // the Rasters within each description

        // Data Arrays
        // Comics: Polar Bear, Backyard; Films: Man, Brock; Lit: Marx, Grapes; Digital Media: Species, Spore; Data: Cuba, Iraq; Open: Dutty, Boxes
        var images = ["img1",
                      "img2",
                      "img3",
                      "img4",
                      "img5",
                      "img6",
                      "img7",
                      "img8",
                      "img9",
                      "img10",
                      "img11",
                      "img12"];

        var labels = ["Comics",
                      "Films",
                      "Literature",
                      "Digital Media",
                      "Data",
                      "Open Media"];

        var colors = ['#ff303a',
                      '#ff303a',
                      '#fc9a11',
                      '#fc9a11',
                      '#41f497',
                      '#41f497',
                      '#41aff4',
                      '#41aff4',
                      '#f8ff30',
                      '#f8ff30',
                      '#ff30f1',
                      '#ff30f1'];

        var texts = ["Chip Bok’s political comic plays off of Bernie Sander’s argument in a debate that climate change is directly related to the growth of terrorism, e.g. that climate change will cause water shortages, drought, and mass migration, creating a disgruntled, instable populace that will be easily swayed by radical groups. Bok criticizes the over-generalization of Sander’s argument and mocks his claim by using personification of nature and the popular image of polar bears losing their habitat due to climate change. Nature is thus used as a humorous counterpoint in a political argument.",
                     "This comic deals with the topic of energy and the common counter arguments to each strategy. Joe Heller juxtaposes the dangerous and life-threatening accidents from nuclear, oil, and coal with the mere nuisance of wind energy. Interestingly, nuclear energy is portrayed in the same light as oil and coal despite its usual categorization under renewable energy. The main criticism of the comic comes down to the people who desire their local environment to be free from visual annoyances like a wind turbine. Heller seems to be supporting wind energy as an alternative to other riskier technologies.",
                     "",
                     "Erin Brockovich is a dramatized, biographical film centering around the lawsuit of Anderson, et al. v. Pacific Gas and Electric for using chromium-6 for compressor cooling and storing the contaminated water in unlined ponds allowing it to spread into the groundwater. The chromium-6 was linked to a cluster of cancer cases in Hinkley and resulted in the largest direct-action lawsuit settlement in US history. The movie deals with the politics surrounding the cover up of the pollution and the working of large corporations which seem to be above the law.",
                     "",
                     "",
                     "",
                     "",
                     "",
                     "",
                     "",
                     ""];
        var metadata = ["Greatest Threat to Bernie\nArtist: Chip Bok\nDate: 11/19/2015\nPublished: Chip Bok's\nEditorial Comics",
                        "Arguments Against\nArtist: Joe Heller\nDate: 3/18/2011\nPublished: Green Bay\nPress Gazette",
                        "MAN\nDirector/Creator: Steve Cutts\nReleased: 12/21/2012\nMusic: In the Hall of the \nMountain King",
                        "Erin Brockovich\nDirector: Steven Soderbergh\nWriter: Susannah Grant\nStarring: Julia Roberts,\nAlbert Finney\nReleased: 3/17/2000\nCountry: US",
                        "The Machine in the Garden\nAuthor: Leo Marx\nPublisher: Oxford University\nPress\nPublished: 1964\nCountry: US\nGenre: Non-fiction\n",
                        "The Grapes of Wrath\nAuthor: John Steinbeck\nPublisher: The Viking Press\nPublished: 4/14/1939\nCountry: US\nGenre: Novel",
                        "Species in Pieces\nCreator: Bryan James\nReleased: 2015\nFormat: CSS",
                        "Spore 1.1\nCreator: SWAMP-Matt Kenyon\nReleased: 2007\nMaterials: Plant, Microcontroller",
                        "U2 Spy Plane Photography\nPhotographer: US Air Force\nDate: 1962\nCountry: Cuba",
                        "Iraq WMD Slideshow\nPresented By: Colin Powell\nDate: 2/5/2003\nCountry: Iraq",
                        "Nuh Dutty Up Jamaica PSA\nCreator: Jamaica Environment\nTrust\nReleased: 2/23/2015\nGenre: Pop, Reggae\nCountry: Jamaica",
                        "Little Boxes\nComposer: Malvina Reynolds\nReleased: 1962\nGenre: Political Satire, Folk\nCountry: US"];

        // Params
        var x = view.size.width / 2;
        var y = view.size.height / 2.2;
        var radius = view.size.height > view.size.width ? view.size.width / 3 : view.size.height / 3;
        var nodeLength = radius / 3;
        var descLength = 4 * nodeLength;
        var labelDist = 1.34;
        var corners = [new Point(x + radius, y),
                       new Point(x + Math.cos(Math.PI / 6) * radius, y - Math.sin(Math.PI / 6) * radius),
                       new Point(x + Math.cos(Math.PI / 3) * radius, y - Math.sin(Math.PI / 3) * radius),
                       new Point(x, y - radius),
                       new Point(x - Math.cos(Math.PI / 3) * radius, y - Math.sin(Math.PI / 3) * radius),
                       new Point(x - Math.cos(Math.PI / 6) * radius, y - Math.sin(Math.PI / 6) * radius),
                       new Point(x - radius, y),
                       new Point(x - Math.cos(Math.PI / 6) * radius, y + Math.sin(Math.PI / 6) * radius),
                       new Point(x - Math.cos(Math.PI / 3) * radius, y + Math.sin(Math.PI / 3) * radius),
                       new Point(x, y + radius),
                       new Point(x + Math.cos(Math.PI / 3) * radius, y + Math.sin(Math.PI / 3) * radius),
                       new Point(x + Math.cos(Math.PI / 6) * radius, y + Math.sin(Math.PI / 6) * radius)];
        
        var labelCorners = [new Point(x + Math.cos(Math.PI * 15 / 180) * radius * labelDist, y - Math.sin(Math.PI * 15 / 180) * radius * labelDist),
                            new Point(x + Math.cos(Math.PI * 75 / 180) * radius * labelDist, y - Math.sin(Math.PI * 75 / 180) * radius * labelDist),
                            new Point(x + Math.cos(Math.PI * 135 / 180) * radius * labelDist, y - Math.sin(Math.PI * 135 / 180) * radius * labelDist),
                            new Point(x + Math.cos(Math.PI * 195 / 180) * radius * labelDist, y - Math.sin(Math.PI * 195 / 180) * radius * labelDist),
                            new Point(x + Math.cos(Math.PI * 255 / 180) * radius * labelDist, y - Math.sin(Math.PI * 255 / 180) * radius * labelDist),
                            new Point(x + Math.cos(Math.PI * 315 / 180) * radius * labelDist, y - Math.sin(Math.PI * 315 / 180) * radius * labelDist)];
        
        var lineCorners = [[corners[0], corners[5]], 
                           [corners[1], corners[8]]
                           
                        ];

        Raster.prototype.rescale = function(width, height) {
            this.scale(width / this.width, height / this.height);
        };
        for (var i = 0; i < lineCorners.length; i++) {
            var line = Path.Line(lineCorners[i][0], lineCorners[i][1]);
            line.strokeColor = 'white';
            line.strokeWidth = 7;
            line.onMouseEnter = function(event) {
                var rect = new Rectangle(new Point(event.target.position.x, event.target.position.y), new Size(radius, radius));
                var fullDescription = new Path.Rectangle(rect);
                fullDescription.fillColor = '#717171';
                descriptions.push(fullDescription);
                var text = new PointText(rect.center);
                text.justification = 'center';
                text.fillColor = 'white';
                text.content = 'politics asdf lorem ipsum \ntext long long on glong';
                descTexts.push(text);
                for (var j = 0; j < lines.length; j++) {
                    if (event.target.id === lines[j].id) {
                        lines[j].strokeColor = 'yellow';
                    }
                }
            }
            line.onMouseLeave = function(event) {
                var popped = descriptions.pop();
                popped.remove();
                var poppedText = descTexts.pop();
                poppedText.remove();
                for (var j = 0; j < lines.length; j++) {
                    if (event.target.id === lines[j].id) {
                        lines[j].strokeColor = 'white';
                    }
                }
            }
            lines.push(line);
        }
        for (var i = 0; i < corners.length; i++) {
            var stroke = new Path.Rectangle(new Rectangle(corners[i] - nodeLength / 2 , new Size(nodeLength, nodeLength)));
            stroke.strokeColor = colors[i];
            stroke.strokeWidth = colors[i] == '#41aff4' ? 7 : 5;
            var corner = new Raster(images[i]);
            corner.position = corners[i];
            corner.rescale(nodeLength, nodeLength);
            corner.onMouseEnter = function(event) {
                var rect;
                if (event.target.position.y > y) {
                    rect = new Rectangle(new Point(event.target.position.x + 0.5 * nodeLength, event.target.position.y - 4.5 * nodeLength), new Size(descLength, descLength));
                } else {
                    rect = new Rectangle(new Point(event.target.position.x + 0.5 * nodeLength, event.target.position.y - nodeLength), new Size(descLength, descLength));
                }
                var fullDescription = new Path.Rectangle(rect);
                fullDescription.fillColor = '#717171';
                descriptions.push(fullDescription);
                var meta = new PointText(new Point(rect.center.x + .05 * descLength, rect.center.y - .4 * descLength));
                meta.justification = 'left';
                meta.fillColor = 'white';
                meta.content = metadata[getIndex(event)];
                meta.fontSize = '.8em';
                descMeta.push(meta);
                var text = new PointText(new Point(rect.center.x - 0.9 * descLength / 2, rect.center.y + .1 * descLength));
                text.justification = 'left';
                text.fillColor = 'white';
                text.content = addLineBreaks(texts[getIndex(event)]);
                text.fontSize = '.8em';
                descTexts.push(text);
                var img = new Raster(event.target.image);
                var imgLength = descLength / 2;
                img.position = new Point(rect.center.x - 1/4 * descLength, rect.center.y - 1/4 * descLength);
                img.rescale(imgLength, imgLength);
                descImages.push(img);
            }
            corner.onMouseLeave = function(event) {
                var popped = descriptions.pop();
                popped.remove();
                var poppedMeta = descMeta.pop();
                poppedMeta.remove();
                var poppedText = descTexts.pop();
                poppedText.remove();
                var poppedImg = descImages.pop();
                poppedImg.remove();
            }
            nodes.push(corner);
        }

        for (var i = 0; i < labels.length; i++) {
            var text = new PointText(labelCorners[i]);
            text.justification = i == 0 || i == 5 ? 'left' : 'right';
            text.fillColor = colors[i * 2];
            text.fontSize = '1.5em';
            text.content = labels[i];
            text.fontFamily = 'Arial';
        }

        function getIndex(event) {
            var id = event.target.image.id;
            for (var i = 0; i < images.length; i++) {
                if (id === images[i]) {
                    return i;
                }
            }
            return null;
        }

        function addLineBreaks(text) {
            if (text == null) {
                return "";
            }
            var broken = "";
            var words = text.split(" ");
            var lineLength = 0;
            var lineLimit = 55;
            for (var i = 0; i < words.length; i++) {
                if (lineLength + words[i].length > lineLimit) {
                    broken += "\n";
                    lineLength = 0;
                }
                broken += words[i] + " ";
                lineLength += words[i].length;
            }
            return broken;
        }
    </script>
</head>

<body style="background-color:rgb(68,68,68);">
    <div>
        <nav class="navbar navbar-light navbar-expand-md navigation-clean-button" style="background-color:rgba(249,249,249,0);">
            <div class="container"><a class="navbar-brand" href="#" data-bs-hover-animate="pulse" style="color:rgb(255,255,255);">Nature as Political</a><button class="navbar-toggler" data-toggle="collapse" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
                <div
                    class="collapse navbar-collapse" id="navcol-1">
                    <ul class="nav navbar-nav mr-auto">
                        <li class="nav-item" role="presentation"><a class="nav-link" href="about.html" data-bs-hover-animate="pulse" style="color:rgb(255,255,255);">About</a></li>
                        <li class="nav-item" role="presentation"><a class="nav-link" href="#" data-bs-hover-animate="pulse" style="color:rgb(255,255,255);">Summary</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
    <img src="assets/images/img1.jpg" id="img1" style="display: none;">
    <img src="assets/images/img2.jpg" id="img2" style="display: none;">
    <img src="assets/images/img3.jpg" id="img3" style="display: none;">
    <img src="assets/images/img4.jpg" id="img4" style="display: none;">
    <img src="assets/images/img5.jpg" id="img5" style="display: none;">
    <img src="assets/images/img6.jpg" id="img6" style="display: none;">
    <img src="assets/images/img7.jpg" id="img7" style="display: none;">
    <img src="assets/images/img8.jpg" id="img8" style="display: none;">
    <img src="assets/images/img9.jpg" id="img9" style="display: none;">
    <img src="assets/images/img10.jpg" id="img10" style="display: none;">
    <img src="assets/images/img11.jpg" id="img11" style="display: none;">
    <img src="assets/images/img12.jpg" id="img12" style="display: none;">
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bs-animation.js"></script>
    <canvas id="myCanvas" resize></canvas>
</body>

</html>